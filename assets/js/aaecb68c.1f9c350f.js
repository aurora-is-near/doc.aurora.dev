"use strict";(self.webpackChunkaurora_docs=self.webpackChunkaurora_docs||[]).push([[2545],{9613:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>h});var a=n(9496);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var c=a.createContext({}),s=function(t){var e=a.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=s(t.components);return a.createElement(c.Provider,{value:e},t.children)},d="mdxType",u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,c=t.parentName,p=l(t,["components","mdxType","originalType","parentName"]),d=s(n),m=o,h=d["".concat(c,".").concat(m)]||d[m]||u[m]||r;return n?a.createElement(h,i(i({ref:e},p),{},{components:n})):a.createElement(h,i({ref:e},p))}));function h(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var c in e)hasOwnProperty.call(e,c)&&(l[c]=e[c]);l.originalType=t,l[d]="string"==typeof t?t:o,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9740:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var a=n(1163),o=(n(9496),n(9613));const r={title:"Connect a wallet"},i=void 0,l={unversionedId:"build-a-dapp/frontend/connect-wallet",id:"build-a-dapp/frontend/connect-wallet",title:"Connect a wallet",description:"The ability for a user to connect their wallet is a core function for any Dapp. It allows users to perform tasks such as: writing to contracts, signing messages, or sending transactions.",source:"@site/docs/build-a-dapp/frontend/connect-wallet.md",sourceDirName:"build-a-dapp/frontend",slug:"/build-a-dapp/frontend/connect-wallet",permalink:"/build-a-dapp/frontend/connect-wallet",draft:!1,editUrl:"https://github.com/aurora-is-near/doc.aurora.dev/edit/master/docs/build-a-dapp/frontend/connect-wallet.md",tags:[],version:"current",frontMatter:{title:"Connect a wallet"},sidebar:"tutorialSidebar",previous:{title:"ERC-721 NFT Token",permalink:"/build-a-dapp/contracts/nft"},next:{title:"Get account data",permalink:"/build-a-dapp/frontend/account"}},c={},s=[{value:"Third-party Libraries",id:"third-party-libraries",level:2},{value:"Build Your Own",id:"build-your-own",level:2}],p={toc:s},d="wrapper";function u(t){let{components:e,...r}=t;return(0,o.kt)(d,(0,a.Z)({},p,r,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The ability for a user to connect their wallet is a core function for any Dapp. It allows users to perform tasks such as: writing to contracts, signing messages, or sending transactions."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://wagmi.sh/react/guides/connect-wallet"},"Wagmi")," contains everything you need to get started with building a Connect Wallet module.\nTo get started, you can either use a ",(0,o.kt)("a",{parentName:"p",href:"#third-party-libraries"},"third-party library")," or ",(0,o.kt)("a",{parentName:"p",href:"#build-your-own"},"build your own"),"."),(0,o.kt)("h2",{id:"third-party-libraries"},"Third-party Libraries"),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"We recommend integrating [Aurora ",(0,o.kt)("a",{parentName:"p",href:"/onboard/introduction"},"Pass")," wallet with Web3Modal Wallet Connect solution. You can follow the ",(0,o.kt)("a",{parentName:"p",href:"/onboard/wallets/web3modal"},"corresponding guide here"),".")),(0,o.kt)("p",null,"You can use a pre-built Connect Wallet module from a third-party library such as:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://walletconnect.com/appkit"},"AppKit (known also as Web3Modal)")," \u2013 ",(0,o.kt)("a",{parentName:"li",href:"/onboard/wallets/web3modal"},"Aurora Pass Guide"),",\n",(0,o.kt)("a",{parentName:"li",href:"https://docs.walletconnect.com/appkit/react/core/installation"},"Wallet Connect Guide")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.rainbowkit.com/"},"RainbowKit")," \u2013 ",(0,o.kt)("a",{parentName:"li",href:"https://www.rainbowkit.com/docs/installation"},"Guide")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://docs.family.co/connectkit"},"ConnectKit")," \u2013 ",(0,o.kt)("a",{parentName:"li",href:"https://docs.family.co/connectkit/getting-started"},"Guide")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://www.dynamic.xyz/"},"Dynamic")," \u2013 ",(0,o.kt)("a",{parentName:"li",href:"https://docs.dynamic.xyz/quickstart"},"Guide")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://privy.io"},"Privy")," \u2013 ",(0,o.kt)("a",{parentName:"li",href:"https://docs.privy.io/guide/react/wallets/usage/wagmi"},"Guide"))),(0,o.kt)("p",null,"The above libraries are all built on top of Wagmi, handle all the edge cases around wallet connection, and provide a seamless Connect Wallet UX that you can use in your Dapp."),(0,o.kt)("h2",{id:"build-your-own"},"Build Your Own"),(0,o.kt)("p",null,"Wagmi provides you with the Hooks to get started building your own Connect Wallet module.\nLet's take a look at the code right away:"),(0,o.kt)("iframe",{width:"700",height:"500",src:"https://stackblitz.com/edit/vitejs-vite-muf79v?embed=1&file=src%2FApp.tsx,src%2Fcomponents%2FConnect.tsx,src%2Fwagmi.tsx&view=editor",style:{display:"block",margin:"auto"},title:"Connect wallet",frameborder:"auto",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowfullscreen:!0}),(0,o.kt)("br",null),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},'Click "Preview" button at the bottom right corner to interact with the UI of the project and to try connecting your wallet.\nYou can also fork the project with the bottom left "Fork on StackBlitz" button to work with it in the fullscreen mode.')),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You can download the project locally from the widget above or fork it right away on StackBlitz platform. To run it, use: ",(0,o.kt)("inlineCode",{parentName:"p"},"pnpm install && pnpm run dev"))),(0,o.kt)("p",null,"The final UI of the project looks like this (and is the ",(0,o.kt)("inlineCode",{parentName:"p"},"Connect.tsx")," component):"),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"dapp_wallets.png",src:n(2098).Z,width:"1384",height:"410"})),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"You can see the same React component shown on the Preview tab of the StackBlitz widget example above.")),(0,o.kt)("p",null,"To develop the project above from scratch we need to do the following steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Configure Wagmi"),(0,o.kt)("li",{parentName:"ol"},"Wrap our App component in Context Provider"),(0,o.kt)("li",{parentName:"ol"},"Display Wallet Options"),(0,o.kt)("li",{parentName:"ol"},"Display Connected Account")),(0,o.kt)("p",null,"This project is realized by the three main actors:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://wagmi.sh/react/getting-started#create-config"},"Wagmi Configuration")," in ",(0,o.kt)("inlineCode",{parentName:"li"},"wagmi.tsx"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"[wagmi.tsx]","[wagmi.tsx]":!0},"\nconst projectId = '3fbb6bba6f1de962d911bb5b5c9dba88';\n\nexport const config = createConfig({\n  chains: [auroraTestnet, aurora],\n  connectors: [\n    injected(),\n    walletConnect({ projectId, showQrModal, qrModalOptions }),\n    metaMask(),\n    safe(),\n  ],\n  transports: {\n    [aurora.id]: http(),\n    [auroraTestnet.id]: http(),\n  },\n});\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://wagmi.sh/react/api/hooks/useChainId"},"useChainId")," and ",(0,o.kt)("a",{parentName:"li",href:"https://wagmi.sh/react/api/hooks/useConnect"},"useConnect")," hooks that inject\n",(0,o.kt)("inlineCode",{parentName:"li"},"chainId")," value and ",(0,o.kt)("inlineCode",{parentName:"li"},"connect")," function into our UI in ",(0,o.kt)("inlineCode",{parentName:"li"},"Connect.tsx"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:"[components/Connect.tsx]","[components/Connect.tsx]":!0},'export function Connect() {\n  const chainId = useChainId();\n  const { connectors, connect } = useConnect();\n\n  return (\n    <div className="buttons">\n      {connectors.map((connector) => (\n        <ConnectorButton\n          key={connector.uid}\n          connector={connector}\n          onClick={() => connect({ connector, chainId })}\n        />\n      ))}\n    </div>\n  );\n}\n')),(0,o.kt)("ol",{start:3},(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("a",{parentName:"li",href:"https://wagmi.sh/react/api/hooks/useDisconnect"},"useDisconnect")," hook to allow a user to disconnect from your dApp.")),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The detailed guide on how to write this project is ",(0,o.kt)("a",{parentName:"p",href:"https://wagmi.sh/react/guides/connect-wallet"},"here, in official Wagmi docs"),".")),(0,o.kt)("p",null,"The project above:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Allows you to connect to your dApp via 4 different wallets: injected browser wallet, MetaMask, Wallet Connect and Safe Wallet (",(0,o.kt)("inlineCode",{parentName:"li"},"connectors")," field of Wagmi config)."),(0,o.kt)("li",{parentName:"ol"},"Configures Aurora and Aurora Testnet chains to be accessible via your dApp (",(0,o.kt)("inlineCode",{parentName:"li"},"chains")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"transports")," fields of Wagmi config)."),(0,o.kt)("li",{parentName:"ol"},"Displays account information if a user is connected by using Account component and Wagmi hooks.")))}u.isMDXComponent=!0},2098:(t,e,n)=>{n.d(e,{Z:()=>a});const a=n.p+"assets/images/dapp_wallets-a0279c5347dd0829cf2ff52ff5fed63b.png"}}]);