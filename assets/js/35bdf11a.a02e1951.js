"use strict";(self.webpackChunkaurora_docs=self.webpackChunkaurora_docs||[]).push([[3872],{11215:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"dev-tools/rpc-providers/drpc","title":"dRPC","description":"Public RPCs","source":"@site/docs/dev-tools/rpc-providers/drpc.md","sourceDirName":"dev-tools/rpc-providers","slug":"/dev-tools/rpc-providers/drpc","permalink":"/dev-tools/rpc-providers/drpc","draft":false,"unlisted":false,"editUrl":"https://github.com/aurora-is-near/doc.aurora.dev/edit/master/docs/dev-tools/rpc-providers/drpc.md","tags":[],"version":"current","frontMatter":{"title":"dRPC"},"sidebar":"devToolsSidebar","previous":{"title":"Chainstack","permalink":"/dev-tools/rpc-providers/chainstack"},"next":{"title":"NOW Nodes","permalink":"/dev-tools/rpc-providers/now-nodes"}}');var i=r(13274),n=r(77507);const a={title:"dRPC"},o=void 0,c={},d=[{value:"Public RPCs",id:"public-rpcs",level:2},{value:"How it works?",id:"how-it-works",level:2},{value:"Data providers",id:"data-providers",level:3},{value:"DRPC request execution",id:"drpc-request-execution",level:3},{value:"Why Dshackle?",id:"why-dshackle",level:3},{value:"Dproxy",id:"dproxy",level:3},{value:"Useful resources",id:"useful-resources",level:2},{value:"DRPC Contacts",id:"drpc-contacts",level:2}];function l(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"public-rpcs",children:"Public RPCs"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Aurora Mainnet: ",(0,i.jsx)(t.code,{children:"https://aurora.drpc.org"})]}),"\n",(0,i.jsxs)(t.li,{children:["Aurora Testnet: ",(0,i.jsx)(t.code,{children:"https://aurora-testnet.drpc.org"})]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"how-it-works",children:"How it works?"}),"\n",(0,i.jsx)(t.p,{children:"DRPC serves as a gateway for Web3 developers and users to access a distributed network of independent third-party partners and public nodes."}),"\n",(0,i.jsxs)(t.p,{children:["DRPC's infrastructure consists of several key components. At the core of the infrastructure is ",(0,i.jsx)(t.a,{href:"https://github.com/emeraldpay/dshackle",children:"Dshackle"}),", an open source library created by the Emerald company, which is used to provide stable routing to multiple nodes and ensure the resilience of the network. It\u2019s worth to mention that we use our ",(0,i.jsx)(t.a,{href:"https://github.com/p2p-org/dshackle",children:"own fork of Dshackle"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Dproxy acts as a gateway proxy to the network of independent third-party partners and public nodes, distributing workload and ensuring efficient handling of requests."}),"\n",(0,i.jsx)(t.h3,{id:"data-providers",children:"Data providers"}),"\n",(0,i.jsx)(t.p,{children:"DRPC's data providers are independent third-party companies that own and operate the blockchain infrastructure. These providers are carefully selected based on their reliability, quality of service, and other factors."}),"\n",(0,i.jsx)(t.p,{children:"DRPC asks each provider to install its own instance of Dshackle, which provides stable routing to multiple nodes and ensures that each request is executed on an appropriate node, taking into account node location, state, current height, RPC methods, and other characteristics."}),"\n",(0,i.jsx)(t.h3,{id:"drpc-request-execution",children:"DRPC request execution"}),"\n",(0,i.jsx)(t.p,{children:"When a user submits a request through DRPC, it is received by the Dproxy. Dproxy then uses its routing algorithms to select an appropriate data provider to handle the request, based on various factors such as location, capacity, recent performance and other characteristics."}),"\n",(0,i.jsx)(t.p,{children:"Once the data provider is selected, Dproxy sends the request to the main Dshackle instance, which serves as a central hub for routing requests and aggregating data from the various data providers. Main Dshackle then forwards the request to the selected data provider's own instance of Dshackle, which executes the request and returns the result to the main Dshackle."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"drpc_proxy",src:r(81211).A+"",width:"2094",height:"1072"})}),"\n",(0,i.jsx)(t.h3,{id:"why-dshackle",children:"Why Dshackle?"}),"\n",(0,i.jsx)(t.p,{children:"First, Dshackle is an open-source library that has been used in production environments for a considerable amount of time, giving it a proven track record for reliability and stability."}),"\n",(0,i.jsx)(t.p,{children:"Second, Dshackle provides a number of useful features for routing and load balancing, such as the ability to track nodes\u2019 current chain heads, as well as the ability to prioritize or deprioritize nodes based on their status and other factors. This allows DRPC to ensure that each request is executed on an appropriate provider, taking into account node location, state, current height, RPC methods, and other characteristics."}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"When sending a transaction: Dshackle will broadcast it to all available nodes."}),"\n",(0,i.jsx)(t.li,{children:"When retrieving a balance: Dshackle will only consider nodes that have no lag to get the most up-to-date balance information."}),"\n",(0,i.jsx)(t.li,{children:"For methods that require data from a specific block: Dshackle will only select nodes that have already synced up to that block. This is to ensure that the data is accurate and the request is fulfilled quickly."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"By handling different methods in these ways, Dshackle ensures that requests are routed to the most appropriate nodes, and that the data returned is accurate and up-to-date."}),"\n",(0,i.jsx)(t.p,{children:"Finally, by using Dshackle as an abstraction between DRPC and the data providers, DRPC is able to provide its partners with a great deal of flexibility in how they configure and manage their infrastructure. This allows each provider to optimize their setup for their specific use case, while still being part of a larger decentralized network that can benefit the entire Web3 community."}),"\n",(0,i.jsx)(t.h3,{id:"dproxy",children:"Dproxy"}),"\n",(0,i.jsx)(t.p,{children:"Dproxy is the central gateway proxy for DRPC, responsible for receiving user requests and selecting the best data provider to fulfill those requests. To do this, dproxy considers various metrics such as recent performance, current provider status according to the main dshackle, provider capabilities, and the amount of compute units (CUs) that each provider has served recently."}),"\n",(0,i.jsx)(t.p,{children:"For each provider, Dproxy maintains a rating that is recalculated every second, taking these factors into account. When selecting a provider, Dproxy samples them randomly, with the provider's rating acting as its weight in the distribution. This helps to ensure a smooth load distribution between providers."}),"\n",(0,i.jsx)(t.p,{children:"In addition to routing requests, dproxy also handles several aspects of the DRPC platform's business logic, including user authorization, deduction of CUs from user balance, and the aggregation of statistics about user requests. Dproxy also provides several additional features, such as verification, specifying custom provider lists for requests, and other functionality to enhance the user experience."}),"\n",(0,i.jsx)(t.h2,{id:"useful-resources",children:"Useful resources"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://drpc.org/docs",children:"DRPC Documentation"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://youtu.be/AFB9eMukNTw?si=SwyuSx9ywIUl-dQh",children:"Tour video"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://drpc.org/public-endpoints",children:"List of public endpoints"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://drpc.org/pricing",children:"Commercial nodes pricing"})}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"drpc-contacts",children:"DRPC Contacts"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://twitter.com/drpcorg",children:"DRPC Twitter"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://drpc.org/discord",children:"DRPC Discord"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"https://www.linkedin.com/company/drpc-org",children:"DRPC LinkedIn"})}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},81211:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/drpc-proxy-adde260e9f359fc9a63a82b3beb517d5.png"},77507:(e,t,r)=>{r.d(t,{R:()=>a,x:()=>o});var s=r(79474);const i={},n=s.createContext(i);function a(e){const t=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(n.Provider,{value:t},e.children)}}}]);