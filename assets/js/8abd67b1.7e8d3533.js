"use strict";(self.webpackChunkaurora_docs=self.webpackChunkaurora_docs||[]).push([[8970],{30105:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"onboard/promo-widget","title":"Promo Widget","description":"If you develop a DApp, you will need a way to get your users to install the Aurora Pass application on their phones. We have created a widget to simplify this step.","source":"@site/docs/onboard/promo-widget.md","sourceDirName":"onboard","slug":"/onboard/promo-widget","permalink":"/onboard/promo-widget","draft":false,"unlisted":false,"editUrl":"https://github.com/aurora-is-near/doc.aurora.dev/edit/master/docs/onboard/promo-widget.md","tags":[],"version":"current","frontMatter":{"title":"Promo Widget"},"sidebar":"developers","previous":{"title":"RainbowKit","permalink":"/onboard/wallets/rainbowkit"},"next":{"title":"Troubleshooting","permalink":"/onboard/troubleshooting"}}');var i=o(13274),a=o(77507);const s={title:"Promo Widget"},r="Promo Widget",d={},l=[{value:"Quick integration guide",id:"quick-integration-guide",level:2},{value:"Detailed integration guide",id:"detailed-integration-guide",level:2},{value:"What should be called in the <code>onComplete</code> function?",id:"what-should-be-called-in-the-oncomplete-function",level:3},{value:"Examples of integration",id:"examples-of-integration",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"promo-widget",children:"Promo Widget"})}),"\n",(0,i.jsx)(n.p,{children:"If you develop a DApp, you will need a way to get your users to install the Aurora Pass application on their phones. We have created a widget to simplify this step.\nThis modal leads a user to download the wallet application for iOS or Android by scanning a QR code:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"ap_widget_qr_and_main",src:o(76399).A+"",width:"3212",height:"1576"})}),"\n",(0,i.jsx)(n.p,{children:"Users can always say they already have the wallet installed, and this popup won't be shown for them next time."}),"\n",(0,i.jsx)(n.h2,{id:"quick-integration-guide",children:"Quick integration guide"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Load a script from this ",(0,i.jsx)(n.a,{href:"https://pass.auroracloud.dev/promo.js",children:"link"}),", and import it to your project."]}),"\n",(0,i.jsxs)(n.li,{children:["This adds a function to the ",(0,i.jsx)(n.code,{children:"window"})," object called ",(0,i.jsx)(n.code,{children:"openPromo"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["To open the widget, call ",(0,i.jsx)(n.code,{children:"window.openPromo"})," and pass the ",(0,i.jsx)(n.code,{children:"onComplete"})," function as a parameter ",(0,i.jsx)(n.code,{children:"window.openPromo({ onComplete: function })"})]}),"\n",(0,i.jsxs)(n.li,{children:["You can also check if the function is available before calling it ",(0,i.jsx)(n.code,{children:"window.openPromo ? window.openPromo({ onComplete: function }) : function()"})]}),"\n",(0,i.jsxs)(n.li,{children:["Optionally, you can hide the ",(0,i.jsx)(n.em,{children:"Update your app"})," header by passing the ",(0,i.jsx)(n.code,{children:"hideUpdateAppBlock"})," variable via the ",(0,i.jsx)(n.code,{children:"config"})," argument:\n",(0,i.jsx)(n.code,{children:"window.openPromo({ onComplete: () => {...}, config: {hideUpdateAppBlock: true}})"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can also find the same instructions ",(0,i.jsx)(n.a,{href:"https://pass.auroracloud.dev/",children:"here"}),".\nA more detailed example of integration is below."]}),"\n",(0,i.jsx)(n.h2,{id:"detailed-integration-guide",children:"Detailed integration guide"}),"\n",(0,i.jsxs)(n.p,{children:["In the case of building a React app, you can add the ",(0,i.jsx)(n.code,{children:"promo.js"})," script to it by using the ",(0,i.jsx)(n.code,{children:"useEffect"})," hook like this:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",metastring:'title="aurora-pass-example/src/App.js"',children:'...\nimport { useEffect } from "react";\n\nlet scriptAdded = false;\n\nfunction App() {\n  useEffect(() => {\n    if(!scriptAdded) {\n      const script = document.createElement("script");\n      script.src = "https://pass.auroracloud.dev/promo.js";\n      script.async = true;\n      document.body.appendChild(script);\n    }\n  }, []);\n\n ...\n}\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["We assume the project we're working on here is a default ",(0,i.jsx)(n.code,{children:"create-react-app"})," application to simplify things. You can read more about it ",(0,i.jsx)(n.a,{href:"https://create-react-app.dev/docs/getting-started/",children:"here"}),"."]})}),"\n",(0,i.jsxs)(n.p,{children:["Then, let's add a function ",(0,i.jsx)(n.code,{children:"openModal"})," to display our Promo Widget just after the imports somewhere:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",metastring:'title="aurora-pass-example/src/App.js"',children:'...\nconst openWeb3Modal = () => {\n  alert("Just a placeholder for now. We will add Web3Modal here later.")\n};\n\nconst openWidget = () => {\n  window.openPromo\n    ? window.openPromo({ onComplete: openWeb3Modal, config: {hideUpdateAppBlock: true} })\n    : openWeb3Modal()\n}\n...\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Now, we can set the ",(0,i.jsx)(n.code,{children:"onClick"})," attribute of one of our UI components to display the modal. We can re-use the already existing ",(0,i.jsx)(n.code,{children:"App-link"})," element to use the ",(0,i.jsx)(n.code,{children:"openWidget"})," function:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",metastring:'title="aurora-pass-example/src/App.js"',children:'\nfunction App() {\n  ...\n\n  return (\n    <div className="App">\n      <header className="App-header">\n        ...\n        <a\n          className="App-link"\n          href="#"\n          onClick={openWidget}\n        >\n          Open Promo\n        </a>\n      </header>\n    </div>\n  );\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["If you click on the ",(0,i.jsx)(n.code,{children:"Open Promo"})," link, you will be able to see the Promo Widget now:\n",(0,i.jsx)(n.img,{alt:"ap_widget_example_1",src:o(69924).A+"",width:"3008",height:"1602"})]}),"\n",(0,i.jsxs)(n.p,{children:["And then, if you click further on the 'Skip, I have a wallet' button, you will see the placeholder message about Web3Modal:\n",(0,i.jsx)(n.img,{alt:"ap_widget_example_1",src:o(55199).A+"",width:"2984",height:"1610"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can also look at the more extensive ",(0,i.jsx)(n.a,{href:"/onboard/wallets/web3modal#integrate-web3modal",children:"integration example here"})," to learn how to add Web3Modal to your project,\nparticular section describing it is ",(0,i.jsx)(n.a,{href:"/onboard/wallets/web3modal#add-web3modal",children:"here"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"what-should-be-called-in-the-oncomplete-function",children:["What should be called in the ",(0,i.jsx)(n.code,{children:"onComplete"})," function?"]}),"\n",(0,i.jsx)(n.p,{children:"The widget calls any function you pass to it. So you could pass anything to it, whether that\u2019s opening Web3Modal or RainbowKit popups or any other function.\nBut it works best and is meant to be used with WebModal v3 since the modal is styled similarly."}),"\n",(0,i.jsx)(n.h2,{id:"examples-of-integration",children:"Examples of integration"}),"\n",(0,i.jsx)(n.p,{children:"To see the widget in use, visit one of the projects on the list:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://aurora.plus/",children:"Aurora+"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://pipeflare.io/flare2-token/spin",children:"Pipeflare"})}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,i.jsxs)(n.p,{children:["Please, take a look at our ",(0,i.jsx)(n.a,{href:"/onboard/troubleshooting",children:"Troubleshooting Page"}),". In case you still have questions, please get in touch with our ",(0,i.jsx)(n.a,{href:"https://discord.gg/auroralabs",children:"Support Team"}),"\non Discord and open a support ticket there."]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},69924:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/ap_widget_example_1-b9b1482dc892cef8a6ebfdb69b249218.png"},55199:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/ap_widget_example_2-3d83c3a762b84aaf65d4818e43ecef3e.png"},76399:(e,n,o)=>{o.d(n,{A:()=>t});const t=o.p+"assets/images/ap_widget_qr_and_main-3e93d61e63ea59b2893aa10f5acd6888.png"},77507:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>r});var t=o(79474);const i={},a=t.createContext(i);function s(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);