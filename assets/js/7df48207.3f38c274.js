"use strict";(self.webpackChunkaurora_docs=self.webpackChunkaurora_docs||[]).push([[3905],{3874:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=t(3274),n=t(7507);const i={title:"Gas Abstraction"},r=void 0,o={id:"dev-tools/cloud/borealis-business",title:"Gas Abstraction",description:"Since its inception, the Aurora Protocol has continued to break boundaries in the blockchain world. Its latest innovation is a service providing you the Gas Abstraction, aimed at solving one of the most significant challenges for users of Web3 products \u2013 the concept of transaction fees.\\",source:"@site/docs/dev-tools/cloud/borealis-business.md",sourceDirName:"dev-tools/cloud",slug:"/dev-tools/cloud/borealis-business",permalink:"/dev-tools/cloud/borealis-business",draft:!1,unlisted:!1,editUrl:"https://github.com/aurora-is-near/doc.aurora.dev/edit/master/docs/dev-tools/cloud/borealis-business.md",tags:[],version:"current",frontMatter:{title:"Gas Abstraction"}},l={},c=[{value:"How does it work?",id:"how-does-it-work",level:2},{value:"Setting Up a Deal",id:"setting-up-a-deal",level:2},{value:"How is a Deal Set?",id:"how-is-a-deal-set",level:3},{value:"Aurora Pass as a Deal",id:"aurora-pass-as-a-deal",level:3},{value:"Whitelisting",id:"whitelisting",level:2},{value:"User Experience and User Journey",id:"user-experience-and-user-journey",level:2},{value:"User Journey",id:"user-journey",level:3},{value:"Anti-abuse Rules",id:"anti-abuse-rules",level:2},{value:"Multiple Deals",id:"multiple-deals",level:2},{value:"Developers Considerations",id:"developers-considerations",level:2},{value:"What\u2019s next?",id:"whats-next",level:2}];function d(e){const s={a:"a",br:"br",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(s.p,{children:["Since its inception, the Aurora Protocol has continued to break boundaries in the blockchain world. Its latest innovation is a service providing you the Gas Abstraction, aimed at solving one of the most significant challenges for users of Web3 products \u2013 the concept of transaction fees.",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.br,{}),"\n","Gas Abstraction is a transaction processing and accounting service that allows Aurora Cloud customers to hide the fees complexities from their users while implementing nearly any conceivable business model to manage costs. This article aims to shed light on Gas Abstraction, its operations, benefits, and integration details with the comprehensive suite of ",(0,a.jsx)(s.a,{href:"https://auroracloud.dev/",children:(0,a.jsx)(s.em,{children:"Aurora Cloud"})})," offerings."]}),"\n",(0,a.jsx)(s.h2,{id:"how-does-it-work",children:"How does it work?"}),"\n",(0,a.jsx)(s.p,{children:"Aurora has a relaying architecture mapping Aurora to NEAR transactions, separating the origination and payment. At the core of the Gas Abstraction is the Rule Engine (RE), which oversees this transaction relaying to fulfill its cost management goals. It allows the transfer of transaction costs to a third party\u2013typically a decentralized app (dApp)\u2013that seeks to cover its users' fees. This way, businesses can make their users' experience friction-free by shouldering transaction fees."}),"\n",(0,a.jsx)(s.p,{children:"Companies can establish Customer Deals through the Rule Engine by setting specific rules determining who should pay for a transaction and under what conditions. E.g., incoming transactions to the Aurora+ staking contract are now made free in this way. The strategies which Rule Engine allows are particularly advantageous for companies seeking to offer region-specific or time-bound promotions."}),"\n",(0,a.jsx)(s.p,{children:"For instance, businesses can provide free transactions exclusively to their European customers around the clock while extending this offer to customers from other regions only on weekends. This level of customization empowers companies to accommodate diverse business models and opens up possibilities for novel concepts, including cross-business interactions."}),"\n",(0,a.jsx)(s.h2,{id:"setting-up-a-deal",children:"Setting Up a Deal"}),"\n",(0,a.jsxs)(s.p,{children:["The setup process for a Customer Deal begins with the company formulating specific terms and conditions and the AuroraLabs team translating those into rules for use within the Rule Engine.",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.br,{}),"\n",'For instance, a rule might be as follows: "All users interacting with contract A will receive 50 free transactions per month." If a transaction meets the specified criteria outlined in these rules, the associated cost is billed directly to the business that owns the deal. The rule engine diligently executes this checking and matching process, ensuring accurate transaction cost allocation.']}),"\n",(0,a.jsxs)(s.p,{children:["While Gas Abstraction does not have a user interface, efforts are underway to incorporate this shortly. Storing all matched transactions within a Gas Abstraction database can offer immense value by providing comprehensive analytics about the deals. We plan to support an analytics dashboard using a ",(0,a.jsx)(s.a,{href:"https://www.metabase.com/",children:(0,a.jsx)(s.em,{children:"Metabase"})}),", providing the companies with critical insights into that data."]}),"\n",(0,a.jsx)(s.p,{children:"Let\u2019s see this setup process in more detail."}),"\n",(0,a.jsx)(s.h3,{id:"how-is-a-deal-set",children:"How is a Deal Set?"}),"\n",(0,a.jsx)(s.p,{children:"As previously discussed, Deals consist of rules. Therefore, when a business engages with Aurora's engineering team, two key aspects need to be established:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Which smart contracts will be part of a deal?"}),"\n",(0,a.jsx)(s.li,{children:"What is the business logic around free transactions for users?\\"}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Typically, setting up a deal would initiate with specific parameters. These, however, are not strict boundaries but flexible starting points. Our adaptability allows us to fine-tune the operational rules by leveraging a wide range of resources. These could range from IP addresses and authentication tokens to the internal data embedded within each transaction. Nevertheless, right now, we propose using the following set of parameters:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"FROM:"})," This parameter specifies the originator of the transaction, and it can take values such as ",(0,a.jsx)(s.em,{children:(0,a.jsx)(s.strong,{children:"All"})}),", meaning that the rule engine will not filter any transactions based on their origin address (i.e., all origin addresses are valid for this deal) or ",(0,a.jsx)(s.em,{children:(0,a.jsx)(s.strong,{children:"EOA"})})," in which case the rule engine will only pick up transactions coming from a specific list of addresses (EOAs). We refer to this list as the whitelist, which must be populated by the businesses."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"TO:"})," This parameter specifies the transaction's target, and it can take values such as an ",(0,a.jsx)(s.em,{children:(0,a.jsx)(s.strong,{children:"address"})})," so that the rule engine will pick up transactions directed to this specific contract address. If a transaction goes to another contract, it cannot be associated with this deal."]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"DEAL"}),": This parameter specifies the number of transactions that the beneficiaries of this deal can get. It can be set to UNLIMITED or a specific number."]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Here are a few simple examples of Gas Abstraction deals:"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://www.datocms-assets.com/95026/1687255307-untitled-2023-06-12-1504.png",alt:""})}),"\n",(0,a.jsx)(s.h3,{id:"aurora-pass-as-a-deal",children:"Aurora Pass as a Deal"}),"\n",(0,a.jsx)(s.p,{children:"A notable example of a deal within Gas Abstraction is Aurora Pass (AP), which stands out due to its unique approach. Unlike other deals, Aurora Pass does not utilize the address as the FROM parameter. Instead, it employs an authorization (AUTH) token system that is automatically generated when a new user sets up an account on Aurora Pass."}),"\n",(0,a.jsxs)(s.p,{children:["The Rule Engine plays a crucial role when transactions occur by validating each associated AUTH token. Upon identifying a token that corresponds to an Aurora Pass account, the engine applies the specified deal, ensuring that transaction costs are allocated according to the conditions outlined in the Aurora Pass deal. Moreover, AUTH tokens allow future support of multiple addresses within Aurora Pass while keeping the possibility of applying the benefits of free transactions to a whole account and not to a specific address.",(0,a.jsx)(s.br,{}),"\n",(0,a.jsx)(s.br,{}),"\n","Here is an image describing how the AuroraPass (AP) Deal works:"]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://www.datocms-assets.com/95026/1687255382-pasted-image-0-1.png",alt:""})}),"\n",(0,a.jsx)(s.h2,{id:"whitelisting",children:"Whitelisting"}),"\n",(0,a.jsx)(s.p,{children:"Businesses must define a list of approved addresses that can benefit from their deal. The whitelisted addresses are managed via a dedicated API to enable companies to:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Add an address."}),"\n",(0,a.jsx)(s.li,{children:"Remove an address."}),"\n",(0,a.jsx)(s.li,{children:"Check if an address is on the whitelist."}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"The Aurora team will provide businesses with the credentials for this API as part of the Borealis deal setup process."}),"\n",(0,a.jsx)(s.p,{children:"However, it's important to note that the scope of this API will extend far beyond this whitelisting function. Future enhancements will see the addition of variables like gas price thresholds, among other rule-based parameters, and our partners will also be granted the ability to modify these parameters."}),"\n",(0,a.jsx)(s.h2,{id:"user-experience-and-user-journey",children:"User Experience and User Journey"}),"\n",(0,a.jsx)(s.p,{children:"Gas Abstraction\u2019 user journey is seamless. Once a user signs into a dApp with a Borealis deal, the dApp checks the whitelist status of the user's address. If approved, the user can make transactions within the app without bearing the transaction cost. This process is managed by the Borealis rule engine, which matches the transaction with the relevant deal."}),"\n",(0,a.jsx)(s.h3,{id:"user-journey",children:"User Journey"}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsx)(s.li,{children:"A user signs into a Decentralized App (dApp)."}),"\n",(0,a.jsx)(s.li,{children:"This dApp has a Borealis deal."}),"\n",(0,a.jsx)(s.li,{children:"The dApp checks whether this address was added to the whitelist."}),"\n",(0,a.jsx)(s.li,{children:"If not, the dApp decides whether to send the address for whitelisting. This depends entirely on the business logic. For example, when requesting a transaction\u2019s signature from a whitelisted wallet, the dApp must set gasPrice to 0 because regular wallets will use the default gas price."}),"\n",(0,a.jsx)(s.li,{children:"The user makes a transaction within the app."}),"\n",(0,a.jsx)(s.li,{children:"The user signs the transaction."}),"\n",(0,a.jsx)(s.li,{children:"The transaction goes through Aurora\u2019s infrastructure, and the Borealis rule engine checks for deal matches."}),"\n",(0,a.jsx)(s.li,{children:"It finds a match with the business deal here, so it will report the gas fees to the business, leaving the transaction gas free for the user, and will let the transaction go through and be submitted to Aurora\u2019s internal mempool."}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Here is a scheme describing the User Journey above:"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://www.datocms-assets.com/95026/1687256296-untitled-2023-06-20-1009.png",alt:""})}),"\n",(0,a.jsx)(s.h2,{id:"anti-abuse-rules",children:"Anti-abuse Rules"}),"\n",(0,a.jsx)(s.p,{children:"In addition, Aurora has established anti-abuse rules to prevent potential abuse of the business goals, which can be adjusted according to the client's request. For example, businesses can limit the number of transactions per minute or day. So, a user can have 50 free transactions per month but can do up to 10 per minute and 25 per day."}),"\n",(0,a.jsx)(s.h2,{id:"multiple-deals",children:"Multiple Deals"}),"\n",(0,a.jsx)(s.p,{children:"A transaction can be part of multiple deals. Aurora has created a hierarchy of deals and a randomization process to manage this. If a user connects with Aurora Pass on a dApp, the transaction is attributed to the dApp deal, not the Aurora Pass deal. This hierarchy ensures that dApps take precedence over Aurora's own deals."}),"\n",(0,a.jsx)(s.p,{children:"The randomization process comes into play when some transaction matches multiple deals. In such cases, the transaction will be randomly added to one of the deals. This balanced system ensures fair distribution and usage of the Gas Abstraction service across various deals."}),"\n",(0,a.jsx)(s.h2,{id:"developers-considerations",children:"Developers Considerations"}),"\n",(0,a.jsx)(s.p,{children:"While the Aurora engineering team is responsible for crafting Customer Deals and the rules that regulate them, there are a few essential aspects that developers need to keep in mind, particularly when these deals are directed at smart contracts. For instance, a modular architecture might be required if the aim is to set up multiple contracts based on the varying benefits allocated to different users. Moreover, if the business model requires the dynamic deployment of contracts through contract factories, it might be necessary to whitelist users for all the contracts that require it."}),"\n",(0,a.jsx)(s.p,{children:"In conclusion, the Gas Abstraction provides an innovative solution to a significant issue within the blockchain ecosystem: the cost of transactions. As a result, Aurora is paving the way for more user-friendly blockchain applications and potentially transformative business models, which developers should consider while creating new applications and products."}),"\n",(0,a.jsx)(s.h2,{id:"whats-next",children:"What\u2019s next?"}),"\n",(0,a.jsx)(s.p,{children:"Gas Abstraction represents a transformative approach to managing transaction costs in the realm of blockchain. Its strategic alignment with the needs of businesses and users sets it apart, reflecting the evolving demands of the digital landscape. Its innovative mechanisms allow businesses to absorb transaction costs, providing a seamless user experience. Its ability to distinguish between the initiator of a transaction and the payer of transaction costs has proven to be a game-changer."}),"\n",(0,a.jsx)(s.p,{children:"A significant advantage of Gas Abstraction is its inherent ability to adapt and expand based on market demands and technological advancements. The planned release of public APIs will add another dimension to the offering. It will give businesses more control over the customization and management of their deals and whitelist. The autonomy our APIs will provide is a significant leap forward, allowing businesses to adapt swiftly and efficiently to changing market conditions and user demands."}),"\n",(0,a.jsx)(s.p,{children:"Future advancements will reinforce Gas Abstraction' role as a cutting-edge solution and strengthen Aurora's standing as an innovative leader in the blockchain industry. As we enter an increasingly digital future, the agility and adaptability of systems like this will undoubtedly become more crucial. Aurora is already paving the way, redefining the status quo, and pushing the boundaries of what's possible in transaction cost management."})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},7507:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>o});var a=t(9474);const n={},i=a.createContext(n);function r(e){const s=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);